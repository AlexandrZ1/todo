(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(10),c=n.n(a),s=n(53),o=n(11),i=n.n(o),u=n(19),l=n(15),d=n(151),p=n(152),j=n(156),f=n(154),x=n(157),b=n(162),h=n(161),O=n(68),m=n.n(O).a.create({baseURL:"https://todo-api-learning.herokuapp.com/v1/"}),g="order",v="filterBy",y="done",k="undone",w="desc",C="asc",T="",B=function(e,t){var n=Object(r.useState)(1),a=Object(l.a)(n,2),c=a[0],s=a[1],o=t.slice((c-1)*e,c*e),i=Object(r.useMemo)((function(){return Math.ceil(t.length/e)}),[t.length,e]),u=Object(r.useMemo)((function(){return Array.from(new Array(i),(function(e,t){return t+1}))}),[i]),d=Object(r.useMemo)((function(){return t.length>e}),[t.length,e]);return Object(r.useEffect)((function(){i<c&&s(i)}),[u]),{pages:u,showPagination:d,pageCount:i,currentPage:c,setCurrentPage:s,resTodos:o}},S=function(e,t){var n={};return e===y?n[v]=y:e===k&&(n[v]=k),n[g]=t===w?C:w,n},N=function(e){var t=Object(r.useState)(e),n=Object(l.a)(t,2),a=n[0],c=n[1];return{value:a,setValue:c,handleChange:function(e){c(e.target.value)}}},D=n(160),F=n(147),P=Object(F.a)((function(e){return{input:{width:"55%"}}})),E=n(5),I=function(e){var t=e.addTodo,n=N(""),r=n.value,a=n.setValue,c=n.handleChange,s=P(),o=function(){var e=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key){e.next=4;break}return e.next=3,t(r);case 3:a("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(D.a,{className:s.input,autoComplete:"off",size:"small",variant:"outlined",color:"primary",inputProps:{maxLength:45,value:r,placeholder:"I want to ..."},onKeyPress:function(e){return o(e)},onChange:function(e){return c(e)},onBlur:function(){return a("")}})},L=n(153),A=n(74),M=n.n(A),R=n(75),z=n.n(R),U=Object(F.a)((function(e){return{item:{height:"45px",display:"flex",alignItems:"center",justifyContent:"space-between"},container:{margin:"15px 0",borderRadius:"10px"},input:{width:"100%"},text:{flexGrow:"1",padding:"0 5px",whiteSpace:"unset",wordBreak:"break-all",alignSelf:"none"},success:{color:e.palette.success.main},delete:{color:e.palette.error.main}}})),V=function(e){var t=e.todo,n=e.deleteTodo,a=e.completeTodo,c=e.editTodo,s=e.getTodos,o=N(t.text),j=o.value,x=o.setValue,b=o.handleChange,h=Object(r.useState)(!1),O=Object(l.a)(h,2),m=O[0],g=O[1],v=Object(r.useState)(!1),y=Object(l.a)(v,2),k=y[0],w=y[1],C=Object(r.useState)(!1),T=Object(l.a)(C,2),B=T[0],S=T[1],F="Enter",P="Escape",I=U(),A=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=6;break}return w(!0),e.next=4,n(t);case 4:return e.next=6,s();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=7;break}return S(!0),e.next=4,a(t);case 4:return S(!1),e.next=7,s();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.key!==F||t.text===j){e.next=8;break}return e.next=3,c(t.id,j);case 3:return e.next=5,s();case 5:g(!1),e.next=9;break;case 8:n.key===P&&g(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x(t.text)}),[m]),Object(E.jsx)(d.a,{in:!0,children:Object(E.jsx)(p.a,{elevation:3,className:I.container,children:Object(E.jsxs)("div",{className:I.item,children:[Object(E.jsx)(L.a,{onClick:function(){return R()},children:Object(E.jsx)(M.a,{className:t.done?I.success:"",color:"secondary"})}),Object(E.jsxs)("div",{className:I.text,onClick:function(){return g(!0)},children:[m&&Object(E.jsx)(d.a,{in:m,children:Object(E.jsx)(D.a,{className:I.input,size:"small",variant:"outlined",autoFocus:!0,inputProps:{maxLength:45,value:j},onChange:function(e){return b(e)},onKeyDown:function(e){return V(e)},onBlur:function(){g(!1)}})}),!m&&Object(E.jsx)(d.a,{in:!m,children:Object(E.jsx)(f.a,{children:t.text})})]}),Object(E.jsx)(f.a,{children:new Date(t.date).toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})}),Object(E.jsx)(L.a,{onClick:function(){return A()},children:Object(E.jsx)(z.a,{className:I.delete})})]})})})},G=Object(F.a)((function(e){return{main:{position:"relative",width:"550px",height:"640px",padding:"35px 0",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"10px",userSelect:"none"},list:{width:"80%",height:"55%"},head:{flex:"0 0 10%"},pagination:{flexGrow:"1",display:"flex",alignItems:"center","& :hover":{backgroundColor:e.palette.primary}},loader:{position:"absolute",zIndex:"2",top:"50%"},alert:{marginTop:"5px",width:"80%"}}})),J=n(155),K=n(116),_=n(76),q=n.n(_),H=n(77),Q=n.n(H),W=Object(F.a)((function(e){return{sort:{width:"70%",margin:"5px 0",display:"flex",alignItems:"center",justifyContent:"space-between"},sorting_date:{display:"flex",alignItems:"center"}}})),X=function(e){var t=e.filterBy,n=e.setFilterBy,r=e.sortBy,a=e.setSortBy,c=[T,y,k],s=W();return Object(E.jsxs)("div",{className:s.sort,children:[Object(E.jsx)(J.a,{color:"secondary","aria-label":"outlined primary button group",children:["All","Done","UnDone"].map((function(e,r){return Object(E.jsx)(K.a,{onClick:function(){return n(c[r])},color:t===c[r]?"primary":"inherit",variant:"contained",children:e},r)}))}),Object(E.jsxs)("div",{className:s.sorting_date,children:[Object(E.jsx)(f.a,{children:"Sort by Date"}),Object(E.jsx)(L.a,{onClick:function(){return a((function(e){return C===e?w:C}))},children:r===C?Object(E.jsx)(q.a,{}):Object(E.jsx)(Q.a,{})})]})]})},Y=function(){var e=G(),t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(T),O=Object(l.a)(o,2),g=O[0],v=O[1],y=Object(r.useState)(C),k=Object(l.a)(y,2),w=k[0],N=k[1],D=Object(r.useState)(!0),F=Object(l.a)(D,2),P=F[0],L=F[1],A=Object(r.useState)({error:!1,text:""}),M=Object(l.a)(A,2),R=M[0],z=M[1],U=B(5,a),J=U.showPagination,K=U.pageCount,_=U.currentPage,q=U.setCurrentPage,H=U.resTodos,Q=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("tasks/4",{params:S(g,w)});case 3:t=e.sent,c(t.data.map((function(e){return{done:e.done,text:e.name,date:e.createdAt,id:e.uuid}}))),L(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),z({error:!0,text:e.t0.response.data.message}),L(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,m.patch("task/4/".concat(t),{name:n});case 4:z({error:!1,text:"Task edited"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),z({error:!0,text:e.t0.response.data.message}),L(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Y=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,m.patch("task/4/".concat(t.id),{done:!t.done});case 4:z({error:!1,text:"Task updated"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),z({error:!0,text:e.t0.response.data.message}),L(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,m.delete("task/4/".concat(t.id));case 4:z({error:!1,text:"Task deleted"}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),z({error:!0,text:e.t0.response.data.message}),L(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,m.post("task/4",{name:t,done:!1});case 4:return N(C),v(T),e.next=8,Q();case 8:z({error:!1,text:"Task created"}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),z({error:!0,text:e.t0.response.data.message}),L(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){L(!0),Q(),q(1)}),[g,w]),Object(E.jsx)(d.a,{in:!0,children:Object(E.jsxs)(p.a,{elevation:3,className:e.main,children:[P&&Object(E.jsx)(j.a,{color:"secondary",disableShrink:!0,className:e.loader}),Object(E.jsx)(f.a,{className:e.head,variant:"h3",children:"ToDo"}),Object(E.jsx)(I,{addTodo:$,getTodos:Q}),Object(E.jsx)(d.a,{in:!!R.text,children:Object(E.jsx)(b.a,{className:e.alert,variant:"filled",onClose:function(){z((function(e){return Object(s.a)(Object(s.a)({},e),{},{text:""})}))},severity:R.error?"error":"success",children:R.text})}),Object(E.jsx)(X,{setFilterBy:v,filterBy:g,setSortBy:N,sortBy:w}),Object(E.jsx)("div",{className:e.list,children:H.map((function(e){return Object(E.jsx)(V,{todo:e,deleteTodo:Z,completeTodo:Y,editTodo:W,getTodos:Q},e.id)}))}),J&&Object(E.jsx)(x.a,{direction:"up",in:J,children:Object(E.jsx)(h.a,{className:e.pagination,color:"primary",count:K,page:_,onChange:function(e,t){return q(t)},showFirstButton:!0,showLastButton:!0,hideNextButton:!0,hidePrevButton:!0,shape:"rounded"})})]})})},Z=n(158),$=n(159),ee=n(78),te=function(){return Object(ee.a)({palette:{primary:{main:"#CCE6FF"},secondary:{main:"#DDDDDD"},success:{main:"#41BF7B"},error:{main:"#EA5F5F"}}})},ne=function(){var e=te();return Object(E.jsxs)(Z.a,{theme:e,children:[Object(E.jsx)($.a,{}),Object(E.jsx)(Y,{})]})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(114);c.a.render(Object(E.jsx)(ne,{}),document.getElementById("root")),re()}},[[115,1,2]]]);
//# sourceMappingURL=main.d3521fce.chunk.js.map