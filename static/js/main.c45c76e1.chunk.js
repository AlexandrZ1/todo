(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),s=n.n(c),o=n(51),i=n(14),u=n.n(i),l=n(20),d=n(18),p=n(148),f=n(152),j=n(150),h=n(157),x=n(156),b=n(65),m=n.n(b).a.create({baseURL:"https://todo-api-learning.herokuapp.com/v1/"}),O="order",g="filterBy",v="done",y="undone",k="desc",w="asc",C="",B=function(e,t){var n=Object(r.useState)(1),a=Object(d.a)(n,2),c=a[0],s=a[1],o=t.slice((c-1)*e,c*e),i=Object(r.useMemo)((function(){return Math.ceil(t.length/e)}),[t.length,e]),u=Object(r.useMemo)((function(){return Array.from(new Array(i),(function(e,t){return t+1}))}),[i]),l=Object(r.useMemo)((function(){return t.length>e}),[t.length,e]);return Object(r.useEffect)((function(){i<c&&s(i)}),[u]),{pages:u,showPagination:l,pageCount:i,currentPage:c,setCurrentPage:s,resTodos:o}},D=function(e,t){var n={};return e===v?n[g]=v:e===y&&(n[g]=y),n[O]=t===k?w:k,n},S=function(e){var t=Object(r.useState)(e),n=Object(d.a)(t,2),a=n[0],c=n[1];return{value:a,setValue:c,handleChange:function(e){c(e.target.value)}}},N=n(155),F=n(144),E=Object(F.a)((function(e){return{input:{width:"55%"}}})),P=n(6),T=function(e){var t=e.handleAddTodo,n=S(""),r=n.value,a=n.setValue,c=n.handleChange,s=E(),o=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==n.key){e.next=4;break}return e.next=3,t(r);case 3:a("");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(N.a,{className:s.input,autoComplete:"off",size:"small",variant:"outlined",color:"primary",inputProps:{maxLength:25,value:r,placeholder:"I want to ..."},onKeyPress:function(e){return o(e)},onChange:function(e){return c(e)},onBlur:function(){return a("")}})},I=n(149),A=n(71),L=n.n(A),M=n(72),R=n.n(M),z=Object(F.a)((function(e){return{item:{height:"45px",display:"flex",alignItems:"center",justifyContent:"space-between"},container:{margin:"15px 0",borderRadius:"10px"},input:{width:"100%"},text:{flexGrow:"1",padding:"0 5px",whiteSpace:"unset",wordBreak:"break-all",alignSelf:"none"},success:{color:e.palette.success.main},delete:{color:e.palette.error.main}}})),U=function(e){var t=e.todo,n=e.handleDelete,a=e.handleDone,c=e.handleEdit,s=S(t.text),o=s.value,i=s.setValue,f=s.handleChange,h=Object(r.useState)(!1),x=Object(d.a)(h,2),b=x[0],m=x[1],O="Enter",g="Escape";Object(r.useEffect)((function(){i(t.text)}),[b]);var v=function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.key!==O||t.text===o){e.next=6;break}return e.next=3,c(t.id,o);case 3:m(!1),e.next=7;break;case 6:n.key===g&&m(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=z();return Object(P.jsx)(p.a,{elevation:3,className:y.container,children:Object(P.jsxs)("div",{className:y.item,children:[Object(P.jsx)(I.a,{onClick:function(){return a(t)},children:Object(P.jsx)(L.a,{className:t.done?y.success:"",color:"secondary"})}),Object(P.jsxs)("div",{className:y.text,onClick:function(){return m(!0)},children:[b&&Object(P.jsx)(N.a,{className:y.input,size:"small",variant:"outlined",autoFocus:!0,inputProps:{maxLength:45,value:o},onChange:function(e){return f(e)},onKeyDown:function(e){return v(e)},onBlur:function(){m(!1)}}),!b&&Object(P.jsx)(j.a,{children:t.text})]}),Object(P.jsx)(j.a,{children:new Date(t.date).toLocaleDateString("ru-RU",{year:"2-digit",month:"2-digit",day:"2-digit"})}),Object(P.jsx)(I.a,{onClick:function(){return n(t)},children:Object(P.jsx)(R.a,{className:y.delete})})]})})},V=Object(F.a)((function(e){return{main:{position:"relative",width:"550px",height:"640px",padding:"35px 0",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"10px"},list:{width:"80%",height:"55%"},head:{flex:"0 0 15%"},pagination:{flexGrow:"1",display:"flex",alignItems:"center","& :hover":{backgroundColor:e.palette.primary}},loader:{position:"absolute",width:"100%",height:"100%",opacity:"0.4",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"2",top:"0",left:"0",borderRadius:"10px"},alert:{marginTop:"5px",width:"80%"}}})),G=n(151),J=n(113),K=n(73),_=n.n(K),q=n(74),H=n.n(q),Q=Object(F.a)((function(e){return{sort:{width:"70%",margin:"5px 0",display:"flex",alignItems:"center",justifyContent:"space-between"},sorting_date:{display:"flex",alignItems:"center"}}})),W=function(e){var t=e.filterBy,n=e.setFilterBy,r=e.sortBy,a=e.setSortBy,c=[C,v,y],s=Q();return Object(P.jsxs)("div",{className:s.sort,children:[Object(P.jsx)(G.a,{color:"secondary","aria-label":"outlined primary button group",children:["All","Done","UnDone"].map((function(e,r){return Object(P.jsx)(J.a,{onClick:function(){return n(c[r])},color:t===c[r]?"primary":"inherit",variant:"contained",children:e},r)}))}),Object(P.jsxs)("div",{className:s.sorting_date,children:[Object(P.jsx)(j.a,{children:"Sort by Date"}),Object(P.jsx)(I.a,{onClick:function(){return a((function(e){return w===e?k:w}))},children:r===w?Object(P.jsx)(_.a,{}):Object(P.jsx)(H.a,{})})]})]})},X=function(){var e=V(),t=Object(r.useState)([]),n=Object(d.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(C),i=Object(d.a)(s,2),b=i[0],O=i[1],g=Object(r.useState)(w),v=Object(d.a)(g,2),y=v[0],k=v[1],S=Object(r.useState)(!0),N=Object(d.a)(S,2),F=N[0],E=N[1],I=Object(r.useState)({error:!1,text:""}),A=Object(d.a)(I,2),L=A[0],M=A[1],R=B(5,a),z=R.showPagination,G=R.pageCount,J=R.currentPage,K=R.setCurrentPage,_=R.resTodos,q=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("tasks/4",{params:D(b,y)});case 3:t=e.sent,c(t.data.map((function(e){return{done:e.done,text:e.name,date:e.createdAt,id:e.uuid}}))),E(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),M({error:!0,text:e.t0.response.data.message}),E(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,m.patch("task/4/".concat(t),{name:n});case 4:return M({error:!1,text:"Task edited"}),e.next=7,q();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),M({error:!0,text:e.t0.response.data.message}),E(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,m.patch("task/4/".concat(t.id),{done:!t.done});case 4:return e.next=6,q();case 6:M({error:!1,text:"Task updated"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),M({error:!0,text:e.t0.response.data.message}),E(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,m.delete("task/4/".concat(t.id));case 4:return e.next=6,q();case 6:M({error:!1,text:"Task deleted"}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),M({error:!0,text:e.t0.response.data.message}),E(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),e.next=4,m.post("task/4",{name:t,done:!1});case 4:return O(C),K(1),k(w),e.next=9,q();case 9:M({error:!1,text:"Task created"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),M({error:!0,text:e.t0.response.data.message}),E(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){q()}),[b,y]),Object(r.useEffect)((function(){K(1)}),[b]),Object(P.jsxs)(p.a,{elevation:3,className:e.main,children:[F&&Object(P.jsx)("div",{className:e.loader,children:Object(P.jsx)(f.a,{color:"inherit",disableShrink:!0})}),Object(P.jsx)(j.a,{className:e.head,variant:"h3",children:"ToDo"}),Object(P.jsx)(T,{handleAddTodo:Y}),L.text&&Object(P.jsx)(h.a,{className:e.alert,onClose:function(){M((function(e){return Object(o.a)(Object(o.a)({},e),{},{text:""})}))},severity:L.error?"error":"success",children:L.text}),Object(P.jsx)(W,{setFilterBy:O,filterBy:b,setSortBy:k,sortBy:y}),Object(P.jsx)("div",{className:e.list,children:_.map((function(e){return Object(P.jsx)(U,{todo:e,handleDelete:X,handleDone:Q,handleEdit:H},e.id)}))}),z&&Object(P.jsx)(x.a,{className:e.pagination,color:"primary",count:G,page:J,onChange:function(e,t){return K(t)},showFirstButton:!0,showLastButton:!0,hideNextButton:!0,hidePrevButton:!0,shape:"rounded"})]})},Y=n(153),Z=n(154),$=n(75),ee=function(){return Object($.a)({palette:{primary:{main:"#CCE6FF"},secondary:{main:"#DDDDDD"},success:{main:"#41BF7B"},error:{main:"#EA5F5F"}}})},te=function(){var e=ee();return Object(P.jsxs)(Y.a,{theme:e,children:[Object(P.jsx)(Z.a,{}),Object(P.jsx)(X,{})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(111);s.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(te,{})}),document.getElementById("root")),ne()}},[[112,1,2]]]);
//# sourceMappingURL=main.c45c76e1.chunk.js.map